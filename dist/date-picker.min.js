!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DateTimePicker=e():t.DateTimePicker=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i=n(10);i.Date=n(16),t.exports=i},function(t,e,n){var i=n(4),a=n(9),s=n(8);t.exports=i.extend({},i,a,s)},function(t,e,n){var i=n(1),a={on:function(t,e){this._eventData||(this._eventData={}),this._eventData[t]||(this._eventData[t]=[]);var n=!1;i.each(this._eventData[t],function(t){if(t===e)return n=!0,!1}),n||this._eventData[t].push(e)},once:function(t,e){var n=this,i=function(){e.apply(this,arguments),n.off(t,i)};this.on(t,i)},off:function(t,e){this._eventData||(this._eventData={}),this._eventData[t]&&this._eventData[t].length&&(e?i.each(this._eventData[t],function(n,i){if(n===e)return this._eventData[t].splice(i,1),!1}):this._eventData[t]=[])},trigger:function(t){if(this._eventData||(this._eventData={}),this._eventData[t]){var e=this._eventData[t].slice.call(arguments,1);i.each(this._eventData[t],function(t){t.apply(null,e)})}}};t.exports=a},function(t,e,n){function i(t){this.options=s.extend({"default":new Date,type:"M"},t||{});var e=s.toDate(this.options["default"]);e||(e=new Date),this.updateNow(e)}function a(t){return{year:t.getFullYear(),month:t.getMonth(),date:t.getDate(),day:t.getDay(),hours:t.getHours(),minutes:t.getMinutes()}}var s=n(1),o=n(2),r={C:{value:"year",rows:function(t){for(var e=[],n=1900,i=2100,a=n;a<=i;)e.push([a++]);return e},input:"setFullYear"},Y:{value:"month",rows:function(t){for(var e=[],n=0,i=11,a=n;a<=i;)e.push([a++]);return e},input:"setMonth"},M:{value:"date",rows:function(t){for(var e=[],n=t.now,i=s.getDaysInMonthOfDate(n),a=0,o=1,r=s.getFirstDayOfMonth(t.now),h=null;o<=i;)a%7===0&&(h=[],e.push(h)),h.push(a<r?0:o++),a++;return e},input:"setDate"},W:{value:"date",rows:function(t){for(var e=[],n=t.parsedNow,i=s.getStartDateOfWeek(n.year,n.month,n.date),a=1,o=[];a++<=7;)o.push(i.getDate()),i=s.nextDate(i);return e.push(o),e},input:function(t,e){var n=e.now,i=e.parsedNow,a=s.toDate(n),o=i.date;return Math.abs(t-o)<7?a.setDate(t):t>o?(a.setDate(t),a=s.nextMonth(a)):(a.setDate(t),a=s.prevMonth(a)),a}},D:{value:"hours",rows:function(t){for(var e=[],n=0,i=23,a=n;a<=i;)e.push([a++]);return e},input:"setHours"},H:{value:"minutes",rows:function(t){for(var e=[],n=0,i=59,a=n;a<=i;)e.push([a++]);return e},input:"setMinutes"}};s.each(r,function(t){var e=t.input;s.isStr(e)&&(t.input=function(t,n){var i=n.now,a=s.toDate(i);return a[e](t),a})}),s.extend(i.prototype,{updateNow:function(t){this.now=new Date(t.getTime()),this.parsedNow=a(this.now)},_getConf:function(){return r[this.options.type]||r.M},getRows:function(){var t=this._getConf();return t.rows(this)},getInputValue:function(t){var e=this._getConf();return e.input(t,this)},getLevelValue:function(){var t=this._getConf();return this.parsedNow[t.value]},destroy:function(){this.now=null,this.parsedNow=null,this.options=null}},o),t.exports=i},function(t,e){function n(t,e){return m.toString.call(t)==="[object "+e+"]"}function i(t){return n(t,"Function")}function a(t){return n(t,"String")}function s(t){return n(t,"Number")}function o(t){return n(t,"Object")}function r(t){return Array.isArray?Array.isArray(t):n(t,"Array")}function h(t){return"undefined"==typeof t}function c(t){return n(t,"Date")}function d(t,e,n){if(t&&i(e))if(n=n||t,t.length){for(var a=0,s=t.length;a<s;a++)if(e.call(n,t[a],a,t)===!1)return}else if(o(t))for(var r in t)if(e.call(n,t[r],r,t)===!1)return}function u(){}function l(t){return!(!t||!o(t))&&"isPrototypeOf"in t}function p(){var t,e,n,a,s=arguments[0]||{},o=1,h=arguments.length,c=!1;for("boolean"==typeof arguments[0]&&(c=s,s=arguments[1]||{},o=2),"object"==typeof s||i(s)||(s={});o<h;o++)if(null!=(t=arguments[o]))for(e in t)if(n=s[e],a=t[e],s!==a)if(c&&a&&(l(a)||r(a))){var d=n&&(l(n)||r(n))?n:r(a)?[]:{};s[e]=p(c,d,a)}else void 0!==a&&(s[e]=a);return s}function f(t,e,n){if(e<1)return"";"undefined"==typeof n&&(n=!0),t=""+t;for(var i=0;i<e;)t="0"+t,i+=1;return i=t.length-e,t.substring(n?i:i>0?e:i)}var m=Object.prototype;t.exports={isFn:i,isStr:a,isNum:s,isObj:o,isArray:r,isDate:c,isUndefined:h,each:d,noop:u,extend:p,pad:f}},function(t,e,n){function i(t,e){this.container=document.body,t||(t={}),this.lang=t.lang||"zh-CN",this.lang=t.lang;var n=r[this.lang];n||(n=r["zh-CN"]),this.config=a.extend(n,e||{}),this.formatValue=null,this.options=t,this.needDefFormat=!this.options.format,this.init(),this.options.format&&a.isStr(this.options["default"])&&(this.options["default"]=a.parseDate(this.options["default"],this.options.format)),this._init()}var a=n(1),s=n(2),o=n(3),r=n(11);i.extend=function(t,e){var n=function(){};return n.prototype=i.prototype,t.prototype=new n,t.prototype["super"]=i.prototype,t.prototype.constructor=t,a.extend(t.prototype,e||{}),t},a.extend(i.prototype,{setDateTime:function(t){this.dateTime=new o(this.options),this._setDateTime(t),t?this.selfChange():(this.render(),this.afterRender())},selfChange:a.noop,setNow:function(t){this.options["default"]=t,this.setDateTime()},afterRender:a.noop,_setDateTime:a.noop,init:a.noop,_init:function(){this._initEle(),this.bindEvts(),this.setDateTime()},_initEle:function(){var t=document.createElement("div");t.className="picker-container",this.ele=t,this._initHead(),this._initContent(),this._initFoot(),this.initEle(),this._handleAni(),this.container.appendChild(t)},initEle:a.noop,render:function(){this.panel&&this.panel.render()},_initHead:function(){this.head=document.createElement("div"),this.head.className="picker-head",this.ele.appendChild(this.head)},_initContent:function(){this.content=document.createElement("div"),this.content.className="picker-content",this.content.setAttribute("data-touchstart","_start"),this.ele.appendChild(this.content)},_initFoot:function(){this.foot=document.createElement("div"),this.foot.className="picker-foot",this.foot.innerHTML='<a href="javascript:;" class="picker-act picker-act-0" data-click="cancel">'+this.config.CANCEL+'</a><a href="javascript:;" class="picker-act picker-act-1" data-click="ok">'+this.config.OK+"</a>",this.ele.appendChild(this.foot)},_handleAni:function(){var t=this.ele,e=function(){t.classList.remove("time-picker-ani"),t.removeEventListener(a.prefixNames.aniEnd,e,!1)};t.classList.add("time-picker-ani"),t.addEventListener(a.prefixNames.aniEnd,e,!1)},_addEvt:function(t,e,n){t&&e&&(void 0===n&&(n=!1),t.addEventListener(e,this,n))},_removeEvt:function(t,e,n){t&&e&&(void 0===n&&(n=!1),t.removeEventListener(e,this,n))},desEvts:function(){this._removeEvt(this.ele,"click"),this._removeEvt(this.ele,"touchstart")},bindEvts:function(){this._addEvt(this.ele,"click"),this._addEvt(this.ele,"touchstart")},changeTo:function(t,e){this.options["default"]=this.dateTime.getInputValue(t),this.setDateTime(e)},selV:function(t){var e=t.realTarget,n=e.getAttribute("data-val")-0;this.shouldSet(n)&&this.changeTo(n)},shouldSet:function(t){return!0},cancel:function(){this.trigger("canceled"),this.hide(),this.destroy()},ok:function(){var t=this.dateTime.now,e=this.options.format;e&&(t=a.formatDate(t,e)),this.trigger("selected",t,this.dateTime.now),this.hide(),this.destroy()},handleEvent:function(t){for(var e="data-"+t.type,n=t.target,i="";n&&n!==this.ele&&!(i=n.getAttribute(e));)n=n.parentNode;i&&(t.realTarget=n,this.panel&&this.panel[i]?this.panel[i](t):this[i]&&this[i](t))},show:function(){this.ele&&(this.ele.style.display="block")},hide:function(){this.ele&&(this.ele.style.display="none")},destroy:function(){this.trigger("destroy",this.dateTime.now,this.dateTime),this.hide(),this.desEvts(),this.container.removeChild(this.ele),this.dateTime.destroy(),this.panel&&this.panel.destroy(),this.container=null,this.ele=null,this.head=null,this.content=null,this.foot=null,this.dateTime=null,this.panel=null,this.config=null,this.formatValue=null,this.lang=null}},s),t.exports=i},function(t,e,n){function i(t,e){var n,i={},a=e.indexOf("a")!==-1||e.indexOf("A")!==-1;return i.d=t.getDate(),i.dd=r(i.d,2),n=t.getDay(),i.D=n,i.DD=n,i.M=t.getMonth()+1,n=i.M,i.MM=r(n,2),i.yyyy=t.getFullYear(),n=i.yyyy,i.yyy=r(n,2)+"y",i.yy=r(n,2),i.y="y",i.H=t.getHours(),n=i.H,i.hh=r(a?s(n):n,2),i.h=a?s(n):n,i.HH=r(n,2),n=i.H<12,i.ap=n?"am":"pm",i.a=n?"am":"pm",i.AP=n?"AM":"PM",i.A=n?"AM":"PM",i.m=t.getMinutes(),i.mm=r(i.m,2),i.s=t.getSeconds(),i.ss=r(i.s,2),i.z=t.getMilliseconds(),n=i.z,i.zz=n+"z",i.zzz=r(n,3),e.replace(h,function(t,e){var n=i[e];return void 0===n?e:n})}function a(t,e){for(var n,i=c,a="",s=0,r=[""],h="",d=new Date(2e3,0,1);s<e.length;){for(h=e.charAt(s);s+1<e.length&&void 0!==i[h+e.charAt(s+1)];)h+=e.charAt(++s);void 0!==(n=i[h])?""!==n&&(a+=i[h],r.push(h)):a+=h,s++}a=new RegExp(a);var u=t.match(a),l=r.length;if(!u||u.length!==l)return null;for(s=0;s<l;s++)if(""!==(h=r[s]))switch(n=parseInt(u[s],10),h){case"yyyy":case"yyy":d.setYear(n);break;case"yy":d.setYear(2e3+n);break;case"MM":case"M":d.setMonth(n-1);break;case"dd":case"d":d.setDate(n);break;case"hh":case"h":case"HH":case"H":d.setHours(n);break;case"mm":case"m":d.setMinutes(n);break;case"ss":case"s":d.setSeconds(n);break;case"zzz":case"zz":case"z":d.setMilliseconds(n);break;case"AP":case"A":case"ap":case"a":d.setHours(o(d.getHours(),u[s]))}return d}function s(t){return t%12===0?12:t%12}function o(t,e){return e=e.toLowerCase(),t=parseInt(t,10),"pm"===e?t<12?t+12:t:12===t?0:t}var r=n(4).pad,h=/(?:\b|%)([dDMyHhaAmsz]+|ap|AP)(?:\b|%)/g,c={d:"([0-9][0-9]?)",dd:"([0-9][0-9])",M:"([0-9][0-9]?)",MM:"([0-9][0-9])",yyyy:"([0-9][0-9][0-9][0-9])",yyy:"([0-9][0-9])[y]",yy:"([0-9][0-9])",H:"([0-9][0-9]?)",hh:"([0-9][0-9])",h:"([0-9][0-9]?)",HH:"([0-9][0-9])",m:"([0-9][0-9]?)",mm:"([0-9][0-9])",s:"([0-9][0-9]?)",ss:"([0-9][0-9])",z:"([0-9][0-9]?[0-9]?)",zz:"([0-9][0-9]?[0-9]?)[z]",zzz:"([0-9][0-9][0-9])",ap:"([ap][m])",a:"([ap][m])",AP:"([AP][M])",A:"([AP][M])","%":""};t.exports={format:i,parse:a}},function(t,e,n){var i=n(3),a=n(2),s=n(1);t.exports={DateTime:i,events:a,utils:s}},function(t,e){var n={aniEnd:"animationend",transform:"transform"};!function(){for(var t,e=document.createElement("div"),i=e.style,a=["a","webkitA","MozA","OA","msA"],s=["animationend","webkitAnimationEnd","animationend","oAnimationEnd","MSAnimationEnd"],o=["transform","webkitTransform","MozTransform","OTransform","msTransform"],r=0,h=a.length;r<h;r++)t=a[r]+"nimation",t in i&&(n.aniEnd=s[r],n.transform=o[r])}(),n.transitionEnd=n.aniEnd.replace("AnimationEnd","TransitionEnd").replace("animationend","transitionend"),t.exports={prefixNames:n}},function(t,e,n){function i(t){return t instanceof Date?new Date(t.getTime()):(t=new Date(t),isNaN(t.getTime())?null:t)}function a(t,e){return t=i(t),t?v.format(t,e||y):""}function s(t,e){return v.parse(t,e||y)}function o(t,e){var n=[3,5,8,10];return~n.indexOf(e)?30:1===e?t%4===0&&t%100!==0||t%400===0?29:28:31}function r(t){return t.getDaysInMonth?t.getDaysInMonth():o(t.getFullYear(),t.getMonth())}function h(t){return t=new Date(t.getTime()),t.setDate(1),t.getDay()}function c(t,e){var n=new Date(t,e,1),i=n.getDay();return 0===i?n.setTime(n.getTime()-7*g):n.setTime(n.getTime()-g*i),n}function d(t,e,n){n=new Date(t,e,n);var i=n.getDay();return n.setTime(n.getTime()-g*i),n}function u(t){t=new Date(t.getTime()),t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/g-3+(e.getDay()+6)%7)/7)}function l(t){t=new Date(t.getTime());var e=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=0===n?e-1:e,s=0===n?11:n-1,r=o(a,s);return r<i&&t.setDate(r),t.setMonth(s),t.setFullYear(a),t}function p(t){t=new Date(t.getTime());var e=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=11===n?e+1:e,s=11===n?0:n+1,r=o(a,s);return r<i&&t.setDate(r),t.setMonth(s),t.setFullYear(a),t}function f(t){var e=t.getTime();return t=new Date(e),t.setTime(e-g),t}function m(t){var e=t.getTime();return t=new Date(e),t.setTime(e+g),t}var v=n(6),y="yyyy-MM-dd",g=864e5;t.exports={toDate:i,formatDate:a,parseDate:s,getDaysInMonth:o,getDaysInMonthOfDate:r,getFirstDayOfMonth:h,getStartDateOfMonth:c,getStartDateOfWeek:d,getWeekNumber:u,prevMonth:l,nextMonth:p,prevDate:f,nextDate:m}},function(t,e,n){n(12),t.exports={Core:n(7)}},function(t,e){t.exports={"zh-CN":{day:["周日","周一","周二","周三","周四","周五","周六"],shortDay:["日","一","二","三","四","五","六"],MDW:"M月d日D",YM:"yyyy年M月",OK:"确定",CANCEL:"取消"},EN:{day:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortDay:["S","M","T","W","T","F","S"],MDW:"D, MM-d",YM:"yyyy-M",OK:"OK",CANCEL:"CANCEL"}}},function(t,e){},function(t,e,n){function i(t){this.picker=t,this.main=null,this.mainStyle=null,this.arrow=null,this.arrowStyle=null}function a(t,e,n){var i=new Date,a={year:i.getFullYear(),month:i.getMonth(),date:i.getDate()},o=t.parsedNow;return n=" picker-bdy-"+n,'<div class="picker-bdy'+n+'"><div class="date-picker-title">'+s.formatDate(t.now,e.YM)+'</div><div class="date-picker-days"><div class="date-picker-days-title">'+e.shortDay.map(function(t){return"<i>"+t+"</i>"}).join("")+'</div><div class="date-picker-days-bdy">'+t.getRows().map(function(t){return'<div class="picker-row">'+t.map(function(t){var e=o.year===a.year&&o.month===a.month&&t===a.date?"picker-now":"";return t===o.date&&(e?e+=" picker-active":e="picker-active"),e&&(e=' class="'+e+'"'),'<i data-click="selV" data-val="'+t+'" '+e+"><span>"+t+"</span></i>"}).join("")+"</div>"}).join("")+"</div></div></div>"}var s=n(1);s.extend(i.prototype,{render:function(){this.main||this._init(),this.picker.head.innerHTML='<div class="picker-year" data-click="toYears">'+this.picker.dateTime.parsedNow.year+'</div><div class="picker-date picker-head-active" data-click="toMonths">'+s.formatDate(this.picker.dateTime.now,this.picker.config.MDW.replace("D","#")).replace("#",this.picker.config.day[this.picker.dateTime.parsedNow.day])+"</div>",this.main.innerHTML=a(this.picker.prevDateTime,this.picker.config,"prev")+a(this.picker.dateTime,this.picker.config,"curr")+a(this.picker.nextDateTime,this.picker.config,"next")},_init:function(){this._initMain(),this._initArrow()},_initMain:function(){this.main=document.createElement("div"),this.main.className="date-picker-main",this.mainStyle=this.main.style,this.picker.content.appendChild(this.main),this.mainWidth=this.main.offsetWidth},_initArrow:function(){this.arrow=document.createElement("div"),this.arrow.className="picker-actions-arrow",this.arrow.innerHTML='<i data-click="prevMonth">←</i><i data-click="nextMonth">→</i>',this.arrowStyle=this.arrow.style,this.picker.content.appendChild(this.arrow)},show:function(){this.mainStyle.display="block",this.arrowStyle.display="block"},hide:function(){this.mainStyle.display="none",this.arrowStyle.display="none"},_slideTo:function(t,e,n){var i=this,a=3,o=a*Math.abs(t-e),r=null,h=function(){window.clearTimeout(r),i._slideEndFn&&(i._slideEndFn=null,i.main.removeEventListener(s.prefixNames.transitionEnd,h,!1),i.mainStyle.webkitTransition="none 0ms",i.mainStyle.transition="none 0ms",i.mainStyle[s.prefixNames.transform]="translateX(-100%) translateZ(0)",n&&n.call(i))};this._slideEndFn=h,this.mainStyle[s.prefixNames.transform]="translateX("+t+"%) translateZ(0)",o>0?(r=window.setTimeout(h,o),o+="ms",this.mainStyle.webkitTransition=o,this.mainStyle.transition=o):h(),this.main.addEventListener(s.prefixNames.transitionEnd,h,!1)},_befChange:function(t){return s.isNum(t)||(t=-100),this._slideEndFn&&this._slideEndFn(),t},prevMonth:function(t){t=this._befChange(t),this._slideTo(0,t,function(){this.picker.setNowToPrev()})},nextMonth:function(t){t=this._befChange(t),this._slideTo(-200,t,function(){this.picker.setNowToNext()})},_start:function(t){var e=t.touches[0],n=e.pageX,i=this,a=-100,o=0,r=!1,h=function(t){t.preventDefault(),t.stopPropagation();var e=t.touches[0],h=e.pageX-n;h=100*h/i.mainWidth;var c=Math.abs(h);c>100&&(h=h>0?100:-100),r=c>55,o=a+h,i.arrowStyle.opacity=(100-.9*c)/100,i.mainStyle[s.prefixNames.transform]="translateX("+o+"%) translateZ(0)"},c=function(t){i.arrowStyle.opacity=1,r?i[o>a?"prevMonth":"nextMonth"](o):i._slideTo(a,o),document.removeEventListener("touchmove",h,!1),document.removeEventListener("touchend",c,!1),document.removeEventListener("touchcancel",c,!1)};this._slideEndFn&&this._slideEndFn(),document.addEventListener("touchmove",h,!1),document.addEventListener("touchend",c,!1),document.addEventListener("touchcancel",c,!1)},destroy:function(){this._slideEndFn&&this._slideEndFn(),this.picker.content.removeChild(this.main),this.picker.content.removeChild(this.arrow),this.picker=null,this.main=null,this.mainStyle=null,this.arrow=null,this.arrowStyle=null}}),t.exports=i},function(t,e,n){function i(t){this.picker=t,this.main=null,this.mainStyle=null,this.posY=0,this.type=t.options.type}function a(t,e){return e||(e=function(t){return t}),function(n,i){var a=n.parsedNow[t];return"<ul>"+i.map(function(t){var n=t[0],i="";return n===a&&(i=" picker-active"),'<li class="picker-row'+i+'" data-click="selV" data-val="'+n+'">'+e(n)+"</li>"}).join("")+"</ul>"}}function s(t){var e=window.getComputedStyle(t,null);e=e[r.prefixNames.transform].split(")")[0].split(", ");var n=+(e[13]||e[5]);return n}function o(t,e,n){var i=6e-4,a=t-e,s=Math.abs(a)/n,o=t+s*s/(2*i)*(a<0?-1:1);return{destination:o,speed:s}}var r=n(1),h={C:a("year"),Y:a("month",function(t){return t+1})};r.extend(i.prototype,{render:function(){this.main||this._init();var t="C"===this.type;this.picker.head.innerHTML='<div class="picker-year'+(t?" picker-head-active":"")+'"'+(t?"":' data-click="toYears"')+">"+this.picker.dateTime.parsedNow.year+'</div><div class="picker-date" data-click="toDays">'+r.formatDate(this.picker.dateTime.now,this.picker.config.MDW.replace("D","#")).replace("#",this.picker.config.day[this.picker.dateTime.parsedNow.day])+"</div>",this.main.innerHTML=h[this.type](this.picker.dateTime,this.rows),this._afterRender()},_afterRender:function(){var t=this.main.querySelector(".picker-active");this.itemHeight=t.offsetHeight;var e=t.offsetTop-(this.contentHeight-this.itemHeight)/2;this._slideTo(-e,0)},_init:function(){this.rows=this.picker.dateTime.getRows(),this._initMain(),this._initMidd()},_initMain:function(){this.main=document.createElement("div"),this.main.className="scroller-picker-main",this.mainStyle=this.main.style,this.picker.content.appendChild(this.main),this.contentHeight=this.picker.content.offsetHeight},_initMidd:function(){this.midd=document.createElement("div"),this.midd.className="scroller-picker-midd",this.middStyle=this.midd.style,this.picker.content.appendChild(this.midd)},show:function(){this.mainStyle.display="block",this.middStyle.display="block"},hide:function(){this.mainStyle.display="none",this.middStyle.display="none"},_slideTo:function(t,e,n){var i=this,a=null,s=function(t){window.clearTimeout(a),i._slideEndFn&&(i._slideEndFn=null,i.main.removeEventListener(r.prefixNames.transitionEnd,s,!1),i.mainStyle.webkitTransition="none 0ms",i.mainStyle.transition="none 0ms",n&&n.call(i,t))};this._slideEndFn=s,this.posY=t,this.mainStyle[r.prefixNames.transform]="translateY("+this.posY+"px) translateZ(0)";var o=" cubic-bezier(0.25, 0.46, 0.45, 0.94)";e>0?(a=window.setTimeout(function(){s({})},e),e+="ms",this.mainStyle.webkitTransition=e+o,this.mainStyle.transition=e+o,this.main.addEventListener(r.prefixNames.transitionEnd,s,!1)):s()},_start:function(t){this._slideEndFn&&this._slideEndFn();var e=t.touches[0],n=e.pageY,i=this,a=this.posY,h=0,c=(new Date).getTime(),d=a,u=function(t){t.preventDefault(),t.stopPropagation();var e=t.touches[0],s=e.pageY-n;h=a+s;var o=(new Date).getTime();o-c>300&&(c=o,d=h),i.mainStyle[r.prefixNames.transform]="translateY("+h+"px) translateZ(0)"},l=function(t){var e=t-a,n=Math.round(e/i.itemHeight),s=i.picker.dateTime.getLevelValue(),o=s-n,r=i.rows[0][0],h=i.rows[i.rows.length-1][0];o<r?(n=s-r,o=r):o>h&&(n=s-h,o=h);var c=n*i.itemHeight+a;return{realTo:c,targetV:o}},p=function(t){var e,n=(new Date).getTime(),a=n-c;if(a<300){var r=-i.rows.length*i.itemHeight,f=i.contentHeight;d<r?d=r:d>f&&(d=f);var m=o(h,d,a);h=m.destination,e=m.speed}var v=l(h),y=v.realTo,g=v.targetV;void 0===e?(e=100*Math.abs(y-h)/i.itemHeight,e>50&&(e=20)):e=Math.abs(y-d)/e,i._slideTo(y,e,function(t){if(t||!e)i.picker.changeTo(g);else{var n=l(s(i.main));i._slideTo(n.realTo,0,function(){i.picker.changeTo(n.targetV,!0)})}}),document.removeEventListener("touchmove",u,!1),document.removeEventListener("touchend",p,!1),document.removeEventListener("touchcancel",p,!1)};document.addEventListener("touchmove",u,!1),document.addEventListener("touchend",p,!1),document.addEventListener("touchcancel",p,!1)},destroy:function(){this._slideEndFn&&this._slideEndFn(),this.picker.content.removeChild(this.main),this.picker.content.removeChild(this.midd),this.picker=null,this.main=null,this.mainStyle=null,this.midd=null,this.middStyle=null}}),t.exports=i},,function(t,e,n){function i(){a.apply(this,arguments)}var a=n(5),s=n(1),o=n(3),r=n(13),h=n(14);a.extend(i,{init:function(){this.needDefFormat&&(this.options.format="yyyy-MM-dd"),s.extend(this.options,{type:"M"}),this.panel=this.daysPanel=new r(this)},_setDateTime:function(){this.prevDateTime=new o(s.extend({},this.options,{"default":s.prevMonth(this.dateTime.now)})),this.nextDateTime=new o(s.extend({},this.options,{"default":s.nextMonth(this.dateTime.now)}))},initEle:function(){this.ele.classList.add("date-picker-container")},shouldSet:function(t){return!!t},setNowToPrev:function(){this.setNow(this.prevDateTime.now)},setNowToNext:function(){this.setNow(this.nextDateTime.now)},_to:function(t,e){s.extend(this.options,{type:t}),this.panel.hide(),this[e]?this[e].show():this[e]=new h(this),this.panel=this[e],this.setDateTime()},toYears:function(){this._to("C","yearsPanel")},toMonths:function(){this._to("Y","monthsPanel")},toDays:function(){this._to("M","daysPanel")}}),t.exports=i}])});